!function(){"use strict";window.Penryn={};var t,W=(function(t){var g={};(t.exports=g).M=function(t){g.BM(this,["gRaf","loop","updSvg","updLine","updProp"]),this.v=this.varsInit(t)},g.M.prototype={varsInit:function(t){var u={el:g.Select.el(t.el),e:{value:t.e||"linear"},d:{origin:t.d||0,curr:0},delay:t.delay||0,cb:t.cb||!1,cbDelay:t.cbDelay||0,reverse:t.reverse||!1,round:t.round,progress:0,time:{elapsed:0}};u.elL=u.el.length,g.Has(t,"update")?u.update=function(){t.update(u)}:g.Has(t,"svg")?u.update=this.updSvg:g.Has(t,"line")?u.update=this.updLine:u.update=this.updProp;var i=t.p||!1,e=t.svg||!1,s=t.line||!1;if(i){u.prop={},u.propPos=[];var r=Object.keys(i);u.propL=r.length;for(var n=0;n<u.propL;n++){var a=r[n];u.prop[n]={name:a,origin:{start:i[a][0],end:i[a][1]},curr:i[a][0],start:i[a][0],end:i[a][1],unit:i[a][2]||"%"},u.propPos[a.charAt(0)]=n}}else if(e)u.svg={type:e.type,attr:"polygon"===e.type?"points":"d",end:e.end,originArr:{},arr:{},val:[]},u.svg.start=e.start||u.el[0].getAttribute(u.svg.attr),u.svg.curr=u.svg.start,u.svg.originArr.start=this.svgSplit(u.svg.start),u.svg.originArr.end=this.svgSplit(u.svg.end),u.svg.arr.start=u.svg.originArr.start,u.svg.arr.end=u.svg.originArr.end,u.svg.arrL=u.svg.arr.start.length;else if(s){var o=function(t){if("circle"===t.tagName)return 2*t.getAttribute("r")*Math.PI;if("line"===t.tagName){var i=t.getAttribute("x1"),e=t.getAttribute("x2"),s=t.getAttribute("y1"),r=t.getAttribute("y2");return Math.sqrt((e-=i)*e+(r-=s)*r)}if("polyline"!==t.tagName)return(t=u.line.elWL||t).getTotalLength();for(var n,a=0,o=t.points.numberOfItems,h=0;h<o;h++){var l=t.points.getItem(h);0<h&&(a+=Math.sqrt(Math.pow(l.x-n.x,2)+Math.pow(l.y-n.y,2))),n=l}return a};for(u.line={elWL:s.elWithLength,dashed:s.dashed,coeff:{start:void 0!==s.start?(100-s.start)/100:1,end:void 0!==s.end?(100-s.end)/100:0},shapeL:[],origin:{start:[],end:[]},curr:[],start:[],end:[]},n=0;n<u.elL;n++){var h;if(u.line.shapeL[n]=o(u.el[n]),u.line.dashed){for(var l=0,c=dashed.split(/[\s,]/),p=c.length,f=0;f<p;f++)l+=parseFloat(c[f])||0;var v="",d=Math.ceil(u.line.shapeL[n]/l);for(f=0;f<d;f++)v+=dashed+" ";h=v+"0 "+u.line.shapeL[n]}else h=u.line.shapeL[n];u.el[n].style.strokeDasharray=h,u.line.origin.start[n]=u.line.coeff.start*u.line.shapeL[n],u.line.origin.end[n]=u.line.coeff.end*u.line.shapeL[n],u.line.curr[n]=u.line.origin.start[n],u.line.start[n]=u.line.origin.start[n],u.line.end[n]=u.line.origin.end[n]}}return u},play:function(t){this.pause(),this.varsUpd(t),this.delayST=setTimeout(this.gRaf,this.v.delay)},pause:function(){cancelAnimationFrame(this.raf),this.needEnd=!0,clearTimeout(this.delayST),clearTimeout(this.cbDelayST)},varsUpd:function(t){var i=t||{},e=g.Has(i,"reverse")&&i.reverse?"start":"end";if(g.Has(this.v,"prop"))for(var s=0;s<this.v.propL;s++)this.v.prop[s].end=this.v.prop[s].origin[e],this.v.prop[s].start=this.v.prop[s].curr,g.Has(i,"p")&&g.Has(i.p,this.v.prop[s].name)&&(g.Has(i.p[this.v.prop[s].name],"newEnd")&&(this.v.prop[s].end=i.p[this.v.prop[s].name].newEnd),g.Has(i.p[this.v.prop[s].name],"newStart")&&(this.v.prop[s].start=i.p[this.v.prop[s].name].newStart));else if(g.Has(this.v,"svg"))g.Has(i,"svg")&&g.Has(i.svg,"start")?this.v.svg.arr.start=i.svg.start:this.v.svg.arr.start=this.svgSplit(this.v.svg.curr),g.Has(i,"svg")&&g.Has(i.svg,"end")?this.v.svg.arr.end=i.svg.end:this.v.svg.arr.end=this.v.svg.originArr[e];else if(g.Has(this.v,"line")){for(s=0;s<this.v.elL;s++)this.v.line.start[s]=this.v.line.curr[s];if(g.Has(i,"line")&&g.Has(i.line,"end"))for(this.v.line.coeff.end=(100-i.line.end)/100,s=0;s<this.v.elL;s++)this.v.line.end[s]=this.v.line.coeff.end*this.v.line.shapeL[s];else this.v.line.end[s]=this.v.line.origin[e][s]}this.v.d.curr=g.Has(i,"d")?i.d:this.v.d.origin-this.v.d.curr+this.v.time.elapsed,this.v.e.value=i.e||this.v.e.value,this.v.e.calc=g.Ease[this.v.e.value],this.v.delay=g.Has(i,"delay")?i.delay:this.v.delay,this.v.cbDelay=g.Has(i,"cbDelay")?i.cbDelay:this.v.cbDelay,this.v.cb=g.Has(i,"cb")?i.cb:this.v.cb},gRaf:function(){this.v.time.start=0,this.raf=requestAnimationFrame(this.loop)},loop:function(t){this.v.time.start||(this.v.time.start=t),this.v.time.elapsed=t-this.v.time.start,this.v.progress=0<this.v.d.curr?this.v.e.calc(Math.min(this.v.time.elapsed/this.v.d.curr,1)):1,this.v.update(),this.v.progress+1e-7<1?this.raf=requestAnimationFrame(this.loop):this.needEnd&&(this.needEnd=!1,this.v.update(),this.v.cb&&(this.cbDelayST=setTimeout(this.v.cb,this.v.cbDelay)))},updProp:function(){for(var t=0;t<this.v.propL;t++)this.v.prop[t].curr=this.lerp(this.v.prop[t].start,this.v.prop[t].end);var i=g.Has(this.v.propPos,"x")?this.v.prop[this.v.propPos.x].curr+this.v.prop[this.v.propPos.x].unit:0,e=g.Has(this.v.propPos,"y")?this.v.prop[this.v.propPos.y].curr+this.v.prop[this.v.propPos.y].unit:0,s=i+e===0?0:"translate3d("+i+","+e+",0)",r=g.Has(this.v.propPos,"r")?this.v.prop[this.v.propPos.r].name+"("+this.v.prop[this.v.propPos.r].curr+"deg)":0,n=g.Has(this.v.propPos,"s")?this.v.prop[this.v.propPos.s].name+"("+this.v.prop[this.v.propPos.s].curr+")":0,a=s+r+n===0?0:[s,r,n].filter(function(t){return 0!==t}).join(" "),o=g.Has(this.v.propPos,"o")?this.v.prop[this.v.propPos.o].curr:-1,h=g.Has(this.v.propPos,"w")?this.v.prop[this.v.propPos.w].curr+this.v.prop[this.v.propPos.w].unit:0,l=g.Has(this.v.propPos,"h")?this.v.prop[this.v.propPos.h].curr+this.v.prop[this.v.propPos.h].unit:0;for(t=0;t<this.v.elL&&void 0!==this.v.el[t];t++)0!==a&&(this.v.el[t].style.transform=a),0<=o&&(this.v.el[t].style.opacity=o),0!==h&&(this.v.el[t].style.width=h),0!==l&&(this.v.el[t].style.height=l)},updSvg:function(){this.v.svg.currTemp="";for(var t=0;t<this.v.svg.arrL;t++)this.v.svg.val[t]=isNaN(this.v.svg.arr.start[t])?this.v.svg.arr.start[t]:this.lerp(this.v.svg.arr.start[t],this.v.svg.arr.end[t]),this.v.svg.currTemp+=this.v.svg.val[t]+" ",this.v.svg.curr=this.v.svg.currTemp.trim();for(t=0;t<this.v.elL&&void 0!==this.v.el[t];t++)this.v.el[t].setAttribute(this.v.svg.attr,this.v.svg.curr)},updLine:function(){for(var t=0;t<this.v.elL;t++){var i=this.v.el[t].style;this.v.line.curr[t]=this.lerp(this.v.line.start[t],this.v.line.end[t]),i.strokeDashoffset=this.v.line.curr[t],0===this.v.progress&&(i.opacity=1)}},lerp:function(t,i){return g.R(g.Lerp.init(t,i,this.v.progress),this.v.round)},svgSplit:function(t){for(var i=[],e=t.split(" "),s=e.length,r=0;r<s;r++)for(var n=e[r].split(","),a=n.length,o=0;o<a;o++){var h=n[o];h=isNaN(h)?h:+h,i.push(h)}return i}},g.TL=function(){this.arr=[],this.delay=0},g.TL.prototype={from:function(t){this.delay+=g.Has(t,"delay")?t.delay:0,t.delay=this.delay,this.arr.push(new g.M(t))},play:function(t){this.run("play",t)},pause:function(){this.run("pause")},run:function(t,i){for(var e=this.arr.length,s=i||void 0,r=0;r<e;r++)this.arr[r][t](s)}},g.BM=function(t,i){for(var e=i.length,s=0;s<e;s++)t[i[s]]=t[i[s]].bind(t)},g.Ease={linear:function(t){return t},i1:function(t){return 1-Math.cos(t*(Math.PI/2))},o1:function(t){return Math.sin(t*(Math.PI/2))},io1:function(t){return-.5*(Math.cos(Math.PI*t)-1)},i2:function(t){return t*t},o2:function(t){return t*(2-t)},io2:function(t){return t<.5?2*t*t:(4-2*t)*t-1},i3:function(t){return t*t*t},o3:function(t){return--t*t*t+1},io3:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},i4:function(t){return t*t*t*t},o4:function(t){return 1- --t*t*t*t},io4:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},i5:function(t){return t*t*t*t*t},o5:function(t){return 1+--t*t*t*t*t},io5:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},i6:function(t){return 0===t?0:Math.pow(2,10*(t-1))},o6:function(t){return 1===t?1:1-Math.pow(2,-10*t)},io6:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))}},g.Has=function(t,i){return!!t&&hasOwnProperty.call(t,i)},g.Is={string:function(t){return"string"==typeof t},object:function(t){return t===Object(t)},array:function(t){return t.constructor===Array},def:function(t){return void 0!==t},undef:function(t){return void 0===t}},g.Lerp={init:function(t,i,e){return t*(1-e)+i*e},extend:function(t,i,e,s,r){return s+(r-s)/(e-i)*(t-1)}},g.R=function(t,i){return i=void 0!==i?Math.pow(10,i):1e3,Math.round(t*i)/i},g.Snif={uA:navigator.userAgent.toLowerCase(),get isMobileIE(){return/iemobile/i.test(this.uA)},get isMobileOpera(){return/opera mini/i.test(this.uA)},get isIOS(){return/iphone|ipad|ipod/i.test(this.uA)},get isBlackberry(){return/blackberry/i.test(this.uA)},get isMobileAndroid(){return/android.*mobile/.test(this.uA)},get isAndroid(){return this.isMobileAndroid||!this.isMobileAndroid&&/android/i.test(this.uA)},get isFirefox(){return-1<this.uA.indexOf("firefox")},get safari(){return this.uA.match(/version\/[\d\.]+.*safari/)},get isSafari(){return!!this.safari&&!this.isAndroid},get isSafariOlderThan8(){var t=8;return this.isSafari&&(t=+this.safari[0].match(/version\/\d{1,2}/)[0].split("/")[1]),t<8},get isIEolderThan11(){return-1<this.uA.indexOf("msie")},get isIE11(){return 0<navigator.appVersion.indexOf("Trident/")},get isIE(){return this.isIEolderThan11||this.isIE11},get isEdge(){return/Edge\/\d./i.test(this.uA)},get isMac(){return-1<navigator.platform.toLowerCase().indexOf("mac")},get isMobile(){return this.isMobileAndroid||this.isBlackberry||this.isIOS||this.isMobileOpera||this.isMobileIE},get isTouch(){return"ontouchstart"in window}},g.Throttle=function(t){this.delay=t.delay,this.cb=t.cb,this.onlyAtEnd=t.onlyAtEnd,this.last,this.timer},g.Throttle.prototype={init:function(){var t=this,i=!0,e=Date.now();this.last&&e<this.last+this.delay||i?(i=!1,clearTimeout(this.timer),this.timer=setTimeout(function(){t.last=e,t.cb()},this.delay)):(this.last=e,this.onlyAtEnd||(i=!1,this.cb()))}},g.G={parent:function(t){return t||document},id:function(t,i){return this.parent(i).getElementById(t)},class:function(t,i){return this.parent(i).getElementsByClassName(t)},tag:function(t,i){return this.parent(i).getElementsByTagName(t)}},g.Dom={html:document.documentElement,body:document.body},g.Select={el:function(t){var i=[];if(g.Is.string(t)){var e=t.substring(1);"#"===t.charAt(0)?i[0]=g.G.id(e):i=g.G.class(e)}else i[0]=t;return i},type:function(t){return"#"===t.charAt(0)?"id":"class"},name:function(t){return t.substring(1)}},g.Index={index:function(t,i){for(var e=i.length,s=0;s<e;s++)if(t===i[s])return s;return-1},list:function(t){var i=t.parentNode.children;return this.index(t,i)},class:function(t,i){var e=g.G.class(i);return this.index(t,e)}},g.MM=function(t){this.el=g.Select.el(t.element)[0]||document,this.cb=t.cb,this.iM=g.Snif.isMobile,this.tick=!1,g.BM(this,["gRaf","run"])},g.MM.prototype={on:function(){this.l("add")},off:function(){this.l("remove")},l:function(t){var i=this.iM?"touch":"mouse";g.L(this.el,t,i+"move",this.gRaf)},gRaf:function(t){this.e=t,this.e.cancelable&&this.e.preventDefault(),this.tick||(requestAnimationFrame(this.run),this.tick=!0)},run:function(){var t=this.iM?this.e.changedTouches[0]:this.e;this.cb(t.pageX,t.pageY,this.e),this.tick=!1}},g.RO=function(t){this.cb=t.cb,this.iM=g.Snif.isMobile,this.tick=!1,g.BM(this,["getThrottle","gRaf","run"]),this.throttle=new g.Throttle({cb:this.gRaf,delay:t.throttle.delay,onlyAtEnd:t.throttle.onlyAtEnd})},g.RO.prototype={on:function(){this.l("add")},off:function(){this.l("remove")},l:function(t){this.iM?g.L(window,t,"orientationchange",this.getThrottle):g.L(window,t,"resize",this.getThrottle)},getThrottle:function(t){this.e=t,this.throttle.init()},gRaf:function(){this.tick||(requestAnimationFrame(this.run),this.tick=!0)},run:function(){this.cb(this.e),this.tick=!1}},g.Scroll=function(t){this.cb=t,this.tick=!1,g.BM(this,["gRaf","run"])},g.Scroll.prototype={on:function(){this.startScrollY=pageYOffset,this.l("add")},off:function(){this.l("remove")},l:function(t){g.L(window,t,"scroll",this.gRaf)},gRaf:function(t){this.e=t,this.tick||(requestAnimationFrame(this.run),this.tick=!0)},run:function(){var t=pageYOffset,i=-(t-this.startScrollY);this.startScrollY=t,this.cb(t,i,this.e),this.tick=!1}},g.WT=function(t){this.cb=t,this.tick=!1,g.BM(this,["tS","gRaf","run"])},g.WT.prototype={on:function(){this.l("add")},off:function(){this.l("remove")},l:function(t){var i=document;g.L(i,t,"mouseWheel",this.gRaf),g.L(i,t,"touchstart",this.tS),g.L(i,t,"touchmove",this.gRaf)},gRaf:function(t){this.e=t,this.e.cancelable&&this.e.preventDefault(),this.tick||(requestAnimationFrame(this.run),this.tick=!0)},run:function(){var t=this.e.type;"wheel"===t?this.onWheel():"mousewheel"===t?this.onMWheel():"touchmove"===t&&this.tM()},onWheel:function(){this.type="scroll",this.delta=this.e.wheelDeltaY||-1*this.e.deltaY,g.Snif.isFirefox&&1===this.e.deltaMode&&(this.delta*=40),this.getCb()},onMWheel:function(){this.type="scroll",this.delta=this.e.wheelDeltaY?this.e.wheelDeltaY:this.e.wheelDelta,this.getCb()},tS:function(t){this.start=t.targetTouches[0].pageY},tM:function(){this.type="touch",this.delta=this.e.targetTouches[0].pageY-this.start,this.getCb()},getCb:function(){this.cb(this.delta,this.type,this.e),this.tick=!1}},g.WTP={p:function(t){t.cancelable&&t.preventDefault()},l:function(t){var i=document;g.L(i,t,"mouseWheel",this.p),g.L(i,t,"touchmove",this.p)},on:function(){this.l("add")},off:function(){this.l("remove")}},g.L=function(t,i,e,s){var r,n=document,a=(t=g.Select.el(t)).length,o=-1!==["touchmove","mousemove","scroll","mouseWheel","touchstart"].indexOf(e)&&{passive:!1};r="mouseWheel"===e?"onwheel"in n?"wheel":void 0!==n.onmousewheel?"mousewheel":"DOMMouseScroll":"focusOut"===e?g.Snif.isFirefox?"blur":"focusout":e;for(var h=0;h<a;h++)t[h][i+"EventListener"](r,s,o)},g.ScrollToTop=function(t){var i,e=pageYOffset,s={dest:0,d:(i=g.Lerp.init(300,1500,e/t.totalH),0===e?0:i),e:e<=2500?"Power"+Math.ceil(e/500)+"InOut":"ExpoInOut",cb:t.cb};g.ScrollTo(s)},g.ScrollTo=function(t){var i=document,e=i.scrollingElement?i.scrollingElement:g.Dom.body,s=g.Snif.isFirefox||g.Snif.isIE?i.documentElement:e,r=pageYOffset,n=t.dest,a=new g.M({d:t.d,e:t.e,update:function(t){s.scrollTop=Math.round(1e3*g.Lerp.init(r,n,t.progress))/1e3},cb:o});function o(){g.WTP.off(),t.cb&&t.cb()}r===n?o():(g.WTP.on(),a.play())},g.ScrollZero=function(){window.scrollTo(0,0)},g.TopWhenRefresh=function(){"scrollRestoration"in history?history.scrollRestoration="manual":window.onbeforeunload=function(){window.scrollTo(0,0)}},g.Win={get w(){return innerWidth},get h(){return innerHeight},get path(){return location.pathname},get hostname(){return location.hostname},get href(){return location.href}}}(t={exports:{}},t.exports),t.exports),a=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")},s=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}(),i=function(){function e(){a(this,e);var t=this.glTest();W.Snif.isIEolderThan11||W.Snif.isSafariOlderThan8?W.Dom.html.className="old-browser":!1===t&&(W.Dom.html.className="no-gl"),this.p=Penryn,this.p.isMobile=W.Snif.isMobile;var i=this.p.isMobile?"mobile":"desktop";W.Dom.body.className="is-"+i}return s(e,[{key:"glTest",value:function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}}]),e}(),r=function(){function t(){a(this,t),W.BM(this,["eventD"]),W.L(W.Dom.body,"add","click",this.eventD)}return s(t,[{key:"eventD",value:function(t){for(var i=t.target,e=!1;i;){if("A"===i.tagName){e=!0;break}i=i.parentNode}e&&i.classList.contains("_tb")&&(t.preventDefault(),window.open(i.href))}}]),t}(),e=function(){function e(t){a(this,e),this.p=Penryn,this.p.is404=!document.querySelector("meta[name=description]"),this.p.path={new:W.Win.path},this.p404Controller=t.p404,this.MainController=t.main;var i=this.getController();new r,i.preload()}return s(e,[{key:"getController",value:function(){return this.p.is404?this.p404Controller:this.MainController}}]),e}(),n=new(function(){function t(){a(this,t)}return s(t,[{key:"preload",value:function(){}}]),t}()),g=new(function(){function t(){a(this,t)}return s(t,[{key:"run",value:function(t,a){function o(t,i){var e=new Image,s=W.Is.def(e.decode);return e.onload=function(t){s||i()},e.src=t,s&&e.decode().then(function(){i()}),e}!function(t){var i=[],e=t.length;function s(){0==--e&&a(i)}if(0===e)a();else for(var r=0;r<e;++r){var n=o(t[r],s);i.push(n)}}(t)}}]),t}()),o=function(){function i(t){a(this,i),this.p=Penryn,this.cb=t,W.BM(this,["gRaf","run","touchStart"])}return s(i,[{key:"on",value:function(){this.target=0,this.tick=!1,this.l("add")}},{key:"off",value:function(){this.l("remove")}},{key:"l",value:function(t){var i=document;W.L(i,t,"mouseWheel",this.gRaf,{passive:!1}),W.L(i,t,"touchstart",this.touchStart,{passive:!1}),W.L(i,t,"touchmove",this.gRaf,{passive:!1}),W.L(i,t,"keydown",this.gRaf)}},{key:"resize",value:function(t){this.scrollYMax=t,this.spaceGap=W.Win.h-40}},{key:"gRaf",value:function(t){this.e=t,this.p.takeScroll=!0,"keydown"!==t.type&&this.e.preventDefault(),this.tick||(requestAnimationFrame(this.run),this.tick=!0)}},{key:"run",value:function(){var t=this.e.type;"wheel"===t?this.onWheel():"mousewheel"===t?this.onMouseWheel():"touchmove"===t?this.touchMove():"keydown"===t&&this.keyDown()}},{key:"onMouseWheel",value:function(){var t=this.e.wheelDeltaY?this.e.wheelDeltaY:this.e.wheelDelta;this.target+=t,this.getCb()}},{key:"onWheel",value:function(){var t=this.e.wheelDeltaY||-1*this.e.deltaY;W.Snif.isFirefox&&1===this.e.deltaMode&&(t*=60),t*=.556,this.target+=t,this.getCb()}},{key:"touchStart",value:function(t){this.prevMove=this.target,this.start=t.targetTouches[0].pageY}},{key:"touchMove",value:function(){this.target=2*(this.e.targetTouches[0].pageY-this.start)+this.prevMove,this.getCb()}},{key:"keyDown",value:function(){var t=this.e.keyCode,i=void 0;i=38===t?100:40===t?-100:32===t&&this.e.shiftKey?this.spaceGap:32===t?-this.spaceGap:0,this.target+=i,this.getCb()}},{key:"getCb",value:function(){this.target=W.R(Math.max(Math.min(this.target,0),-this.scrollYMax),3),this.cb(-this.target),this.tick=!1}},{key:"scrollTo",value:function(t){this.target=-t}}]),i}(),h=new(function(){function t(){a(this,t),this.p=Penryn}return s(t,[{key:"init",value:function(t){this.arr=t.arr,this.arrL=this.arr.length,this.cb=t.cb;for(var i=0;i<this.arrL;i++){var e=this.arr[i];e.dom=W.Select.el(e.el)[0],e.isOut=!0,e.inside={}}}},{key:"resize",value:function(t,i){for(var e=0;e<this.arrL;e++){var s=this.arr[e];this.fixe=620*this.p.winWpsdW;var r=e<2&&this.p.over500?this.navPos(i):i;this.draw(s,e,r);var n=s.dom.getBoundingClientRect().top,a=n-t,o=n+s.dom.offsetHeight;s.inside.top=a+i,s.inside.bottom=o+i}}},{key:"run",value:function(t){for(var i=t.scroll,e=0;e<this.arrL;e++){var s=this.arr[e];if(e<2&&this.p.over500){var r=this.navPos(i);r<this.fixe?(s.isOut=!1,this.draw(s,e,r)):s.isOut||(s.isOut=!0,this.draw(s,e,r))}else 0<e&&(i>=s.inside.top&&i<=s.inside.bottom?(s.isOut=!1,this.draw(s,e,i)):s.isOut||(s.isOut=!0,this.draw(s,e,i)))}}},{key:"navPos",value:function(t){return W.Ease.o3(Math.min(.3*t,this.fixe)/this.fixe)*this.fixe}},{key:"draw",value:function(t,i,e){this.cb(t.dom,i,e)}}]),t}()),l=new(function(){function t(){a(this,t),this.p=Penryn}return s(t,[{key:"init",value:function(){var t=2e3,i="o6",e=150;this.trigger=[],this.sensibility=[],this.tl=[],this.isVisible=[],this.limit=[],this.trigger[0]=W.G.id("a-2"),this.trigger[1]=W.G.id("w-h2-wrap");var s=W.G.class("w-h2"),r=W.G.class("aside",this.trigger[1]);this.tl[1]=new W.TL,this.tl[1].from({el:s[0],p:{y:[101,0]},d:t,e:i}),this.tl[1].from({el:s[1],p:{y:[101,0]},d:t,e:i,delay:e}),this.tl[1].from({el:r[0],p:{y:[101,0]},d:t,e:i,delay:e});for(var n=0;n<4;n++)this.trigger[2+n]=W.G.class("w-li")[n];this.trigger[6]=W.G.id("w-expand");var a=W.G.id("w-expand-btn");this.tl[6]=new W.TL,this.tl[6].from({el:a,p:{y:[101,0]},d:t,e:i}),this.trigger[7]=W.G.id("w-exp");var o=W.G.class("w-exp-title"),h=W.G.class("w-exp-list-link"),l=o.length,u=W.G.id("w-exp-aside-line"),c=W.G.class("w-exp-aside-txt");this.tl[7]=new W.TL;for(var p=0;p<2;p++){var f=0===p?0:e;this.tl[7].from({el:o[p],p:{y:[101,0]},d:t,e:i,delay:f})}for(var v=0;v<l;v++)this.tl[7].from({el:h[v],p:{y:[101,0]},d:t,e:i,delay:e});for(var d=0;d<2;d++)this.tl[7].from({el:c[d],p:{y:[101,0]},d:t,e:i,delay:e});this.tl[7].from({el:u,p:{x:[-101,0]},d:t,e:i,delay:e});for(var g=W.G.class("r-h2"),m=W.G.id("r-total"),y=0;y<5;y++){var w=8+y;this.trigger[w]=W.G.id("r-li-"+y);var b=W.G.class("r-li-title",this.trigger[w])[0],E=W.G.class("r-li-txt",this.trigger[w]),T=E.length;this.tl[w]=new W.TL,this.tl[w].from({el:b,p:{y:[101,0]},d:t,e:i}),8===w&&(this.tl[w].from({el:g[0],p:{y:[101,0]},d:t,e:i}),this.tl[w].from({el:m,p:{y:[101,0]},d:t,e:i})),8===w&&this.tl[w].from({el:g[1],p:{y:[101,0]},d:t,e:i,delay:e});for(var k=0;k<T;k++){var A=0===k?8===w?0:e:e;this.tl[w].from({el:E[k],p:{y:[101,0]},d:t,e:i,delay:A})}}this.trigger[13]=W.G.id("c");var L=W.G.id("c-h2"),x=W.G.id("c-email"),R=W.G.class("c-info");this.tl[13]=new W.TL,this.tl[13].from({el:L,p:{y:[101,0]},d:t,e:i}),this.tl[13].from({el:x,p:{y:[101,0]},d:t,e:i,delay:e}),this.tl[13].from({el:R[0],p:{y:[101,0]},d:t,e:i,delay:e}),this.tl[13].from({el:R[1],p:{y:[101,0]},d:t,e:i,delay:e}),this.trigger[14]=W.G.id("f");var M=W.G.id("f-social-h2"),G=W.G.class("f-social-link"),S=G.length;this.tl[14]=new W.TL,this.tl[14].from({el:M,p:{y:[101,0]},d:t,e:i});for(var I=0;I<S;I++)this.tl[14].from({el:G[I],p:{y:[101,0]},d:t,e:i,delay:100});this.trigger[15]=W.G.id("f"),this.triggerL=this.trigger.length;for(var P=0;P<this.triggerL;P++)this.isVisible[P]=!1}},{key:"resize",value:function(t,i){var e=2e3,s="o6",r=W.G.class("a-2-p"),n=r.length,a=W.G.class("aside",this.trigger[0]);this.tl[0]=new W.TL;for(var o=0;o<n;o++){var h=0===o?0:150;this.tl[0].from({el:r[o],p:{y:[101,0]},d:e,e:s,delay:h})}this.tl[0].from({el:a[0],p:{y:[101,0]},d:e,e:s,delay:150}),this.tl[0].from({el:a[1],p:{y:[101,0]},d:e,e:s,delay:150});for(var l=0;l<4;l++){var u=2+l,c=W.G.class("w-li-name",this.trigger[u]),p=c.length,f=W.G.class("w-li-date",this.trigger[u]),v=W.G.class("w-li-line",this.trigger[u])[0],d=W.G.class("w-li-img-cover",this.trigger[u])[0];if(this.tl[u]=new W.TL,this.tl[u].from({el:v,p:{x:[-101,0]},d:e,e:s}),this.p.over500)for(var g=0;g<2;g++)this.tl[u].from({el:f[g],p:{y:[101,0]},d:e,e:s,delay:100});this.tl[u].from({el:d,p:{y:[0,-101]},d:e,e:s,delay:100});for(var m=0;m<p;m++)this.tl[u].from({el:c[m],p:{y:[101,0]},d:e,e:s,delay:100});if(!this.p.over500)for(var y=0;y<2;y++)this.tl[u].from({el:f[y],p:{y:[101,0]},d:e,e:s,delay:100})}var w=W.G.id("f-credits-h2"),b=W.G.class("f-credits-p"),E=b.length,T=W.G.id("f-credits-copy");this.tl[15]=new W.TL,this.tl[15].from({el:w,p:{y:[101,0]},d:e,e:s});for(var k=0;k<E;k++)this.tl[15].from({el:b[k],p:{y:[101,0]},d:e,e:s,delay:100});this.tl[15].from({el:T,p:{y:[101,0]},d:e,e:s,delay:100});for(var A=0;A<this.triggerL;A++)0!==this.trigger[A]&&(this.limit[A]=this.trigger[A].getBoundingClientRect().top+i-.7*t)}},{key:"loop",value:function(t){for(var i=0;i<this.triggerL;i++)t>this.limit[i]&&!this.isVisible[i]&&(this.isVisible[i]=!0,this.tl[i].play())}}]),t}()),u=new(function(){function t(){a(this,t)}return s(t,[{key:"run",value:function(t,i,e,s){var r=W.Is.undef(s)?"%":s;t.style.transform="translate3d("+i+r+","+e+r+",0)"}}]),t}()),m=new(function(){function t(){a(this,t),this.p=Penryn,this.scroll={target:0,curr:0},this.anchorTop=[],this.anchorTopCss=[0,1960,4440,5420],this.sectionTop=[],this.sectionTopCss=[0,2252,4534,5584],this.no={curr:0,new:0},this.p.takeScroll=!1,this.a={pause:function(t){}},this.scr={timer:0,isRunning:!1},this.needGlIntro=!0,W.BM(this,["s","loop","draw"]),this.vScroll=new o(this.s)}return s(t,[{key:"init",value:function(t){this.aImg=W.G.id("a-1-img"),this.wList=W.G.id("w-list"),this.wLi=W.G.class("w-li"),this.wLiExpandL=this.wLi.length-4,this.wExpand=W.G.id("w-expand-btn-wrap"),this.wExp=W.G.id("w-exp-list"),this.email=W.G.id("c-email-wrap"),this.social=W.G.id("f-social-list"),this.progress=W.G.id("progress"),this.anchor=W.G.class("nav-anchor"),l.init(),h.init({arr:t,cb:this.draw})}},{key:"resize",value:function(t){var i=this.p.win.h,e="loader"===t;this.maxH=Math.max(W.G.id("main").offsetHeight-i,0),this.vScroll.resize(this.maxH),e&&(this.scroll.target=W.R(Math.min(this.scroll.target,this.maxH)),this.scroll.curr=this.scroll.target);for(var s=this.wLi[0].offsetHeight*this.wLiExpandL,r=0;r<4;r++){var n=r<2?0:this.p.isReduce?0:s;this.sectionTop[r]=this.sectionTopCss[r]*this.p.winWpsdW+n,this.anchorTop[r]=this.anchorTopCss[r]*this.p.winWpsdW+n}!e&&this.p.isReduce&&(this.scroll.target-=s,this.scroll.curr-=s,this.vScroll.scrollTo(this.scroll.target)),h.resize(i,this.scroll.target),l.resize(i,this.scroll.target)}},{key:"on",value:function(){this.vScroll.on()}},{key:"scrollTo",value:function(t){var e=this,s=this.scroll.target,r=this.sectionTop[t];this.a=new W.M({d:1e3,e:"o6",update:function(t){var i=W.Lerp.init(s,r,t.progress);e.vScroll.scrollTo(i),e.s(i)}}),this.p.takeScroll=!1,this.no.new=t,this.a.play()}},{key:"s",value:function(t){this.p.takeScroll&&this.a.pause(),0<(this.scroll.target=t)&&this.needGlIntro&&(this.needGlIntro=!1,this.p.GL.intro({d:2400,e:"o6"})),this.overTimer(),l.loop(this.scroll.target)}},{key:"overTimer",value:function(){var i=this;clearTimeout(this.scr.timer),this.scr.isRunning||(this.scr.isRunning=!0,this.pointer("none")),this.scr.timer=setTimeout(function(t){i.scr.isRunning=!1,i.pointer("all")},300)}},{key:"pointer",value:function(t){this.wList.style.pointerEvents=t,this.wExpand.style.pointerEvents=t,this.wExp.style.pointerEvents=t,this.email.style.pointerEvents=t,this.social.style.pointerEvents=t,this.p.over500&&(this.aImg.style.pointerEvents=t)}},{key:"loop",value:function(t){this.scroll.curr+=.09*(this.scroll.target-this.scroll.curr),this.p.over500&&(this.setProgress(),this.p.GL.loop(t,this.scroll)),W.R(this.scroll.curr,2)!==W.R(this.scroll.target)&&h.run({scroll:this.scroll.curr})}},{key:"draw",value:function(t,i,e){u.run(t,0,W.R(-e,2),"px")}},{key:"setProgress",value:function(){if(this.p.takeScroll)for(var t=3;-1<t;t--)if(this.scroll.target>=this.anchorTop[t]){this.no.new=t;break}if(this.no.new!==this.no.curr){var i="nav-anchor line-wrap";this.anchor[this.no.new].className=i+" active",this.anchor[this.no.curr].className=i,this.no.curr=this.no.new}var e=W.R(100*this.scroll.curr/this.maxH-100);u.run(this.progress,0,e)}}]),t}()),c=new(function(){function t(){a(this,t),W.BM(this,["scrollTo"])}return s(t,[{key:"on",value:function(){this.l("add")}},{key:"l",value:function(t){W.L(".nav-anchor",t,"click",this.scrollTo)}},{key:"scrollTo",value:function(t){var i=W.Index.class(t.target,"nav-anchor");m.scrollTo(i)}}]),t}()),p=new(function(){function t(){a(this,t),this.p=Penryn,W.BM(this,["click"])}return s(t,[{key:"on",value:function(){this.txt=W.G.id("w-expand-txt"),this.wList=W.G.id("w-list"),this.l("add")}},{key:"l",value:function(t){W.L("#w-expand-btn",t,"click",this.click)}},{key:"click",value:function(){this.wList.className=this.p.isReduce?"":"reduce",this.txt.textContent=this.p.isReduce?"Reduce List":"Expand List",this.p.isReduce=!this.p.isReduce,this.p.scroll.resize("expand")}}]),t}()),f=function(){function e(t,i){a(this,e),this.overEl=t,this.canvasEl=i,this.amplitude=5,this.frequency=.1,this.phi=0,this.frames=0;this.wMax=Math.sqrt(15488),this.rotateRad=-70*Math.PI/180,this.amp={curr:0,target:0},W.BM(this,["enter","leave"])}return s(e,[{key:"init",value:function(){this.c={w:68,h:112},this.canvasEl.width=this.c.w,this.canvasEl.height=this.c.h,this.ctx=this.canvasEl.getContext("2d",{antialias:!1,depth:!1}),this.ctx.lineWidth=4,this.draw(0)}},{key:"on",value:function(){W.L(this.overEl,"add","mouseenter",this.enter),W.L(this.overEl,"add","mouseleave",this.leave)}},{key:"enter",value:function(){this.amp.target=this.amplitude}},{key:"leave",value:function(){this.amp.target=0}},{key:"loop",value:function(t){this.amp.curr+=.05*(this.amp.target-this.amp.curr),0<W.R(this.amp.curr)&&this.draw(t)}},{key:"draw",value:function(t){this.ctx.clearRect(0,0,this.c.w,this.c.h);var i=t/110;this.ctx.beginPath(),this.ctx.strokeStyle="#0d0900";for(var e=15;e<this.wMax;e++){var s=this.amp.curr*Math.sin(e*this.frequency+i),r=e*Math.cos(this.rotateRad)-s*Math.sin(this.rotateRad)+8,n=s*Math.cos(this.rotateRad)+e*Math.sin(this.rotateRad)+this.c.h+10;this.ctx.lineTo(r,n)}this.ctx.stroke()}}]),e}(),y=new(function(){function t(){a(this,t),this.p=Penryn}return s(t,[{key:"init",value:function(){var t=W.G.class("w-exp-list-link");this.btnL=t.length;var i=W.G.class("w-exp-list-link-arrow");this.one=[];for(var e=0;e<this.btnL;e++)this.one[e]=new f(t[e],i[e]),this.one[e].init()}},{key:"on",value:function(){for(var t=0;t<this.btnL;t++)this.one[t].on()}},{key:"loop",value:function(t){if(!this.p.isMobile)for(var i=0;i<this.btnL;i++)this.one[i].loop(t)}}]),t}()),v={w:1440},d={x:740,y:798,w:660,h:992,points:{hori:26,vert:36}},w=[{el:"#nav"},{el:"#id"},{el:"#a-0"},{el:"#a-1"},{el:"#a-2"},{el:"#w-h2-wrap"},{el:"#w-list"},{el:"#w-expand"},{el:"#w-exp"},{el:"#r-h2-wrap"},{el:"#r-li-0"},{el:"#r-li-1"},{el:"#r-li-2"},{el:"#r-li-3"},{el:"#r-li-4"},{el:"#c"},{el:"#f"}],E=[[["MAKE REIGN","(AGENCY","WEBSITE)"],["MAKE REIGN","(AGENCY","WEBSITE)"]],[["EPICURRENCE","NO.8 (NON-","CONFERENCE)"],["EPICUR","-RENCE","NO.8"]],[["BEN MINGO","2017 FOLIO"],["BEN MINGO","PORTFOLIO","2017"]],[["DIGITAL ASSET","(BLOCKCHAIN","FINANCIAL)"],["DIGITAL","ASSET","(BLOCK-","CHAIN)"]],[["BENJAMIN GUEDJ","2018 EDITION"],["BENJAMIN","GUEDJ","2018"]],[["GUILLAUME","BELVEZE"],["GUILLAUME","BELVEZE","FOLIO"]],[["BEAR GRYLLS,","ADVENTURER"],["BEAR","GRYLLS"]],[["EPICURRENCE","NO.6 (NON-","CONFERENCE)"],["EPICUR","-RENCE","NO.6"]],[["JEMIMAH BARNETT","ADVISOR &","AQUISITION"],["JEMIMAH","BARNETT","ADVISOR"]],[["JENNY JOHAN-","NESSON 2016","FOLIO"],["JENNY","JOHAN-","NESSON"]],[["PILOTE PARIS","(STUDIO)"],["PILOTE","PARIS","(STUDIO)"]]],b=new(function(){function t(){a(this,t)}return s(t,[{key:"canvasCtx",value:function(t,i){return t.getContext("webgl",i)||t.getContext("experimental-webgl")}},{key:"createProgram",value:function(t,i){var e=this.createShader(t,i[0],t.VERTEX_SHADER),s=this.createShader(t,i[1],t.FRAGMENT_SHADER),r=t.createProgram();return t.attachShader(r,e),t.attachShader(r,s),t.linkProgram(r),r}},{key:"createShader",value:function(t,i,e){var s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}},{key:"loc",value:function(t,i,e,s){for(var r=s.length,n={},a="a"===t?"Attrib":"Uniform",o=0;o<r;o++)n[s[o]]=i["get"+a+"Location"](e,t+"_"+s[o]);return n}},{key:"resizeCanvasToDisplaySize",value:function(t){var i=t.canvas,e=i.clientWidth,s=i.clientHeight;i.width===e&&i.height===s||(i.width=e,i.height=s),t.viewport(0,0,i.width,i.height)}}]),t}()),T=new(function(){function t(){a(this,t)}return s(t,[{key:"inverse",value:function(t,i){i=i||new Float32Array(16);var e=t[0],s=t[1],r=t[2],n=t[3],a=t[4],o=t[5],h=t[6],l=t[7],u=t[8],c=t[9],p=t[10],f=t[11],v=t[12],d=t[13],g=t[14],m=t[15],y=p*m,w=g*f,b=h*m,E=g*l,T=h*f,k=p*l,A=r*m,L=g*n,x=r*f,R=p*n,M=r*l,G=h*n,S=u*d,I=v*c,P=a*d,W=v*o,O=a*c,B=u*o,D=e*d,N=v*s,C=e*c,H=u*s,_=e*o,F=a*s,Y=y*o+E*c+T*d-(w*o+b*c+k*d),U=w*s+A*c+R*d-(y*s+L*c+x*d),z=b*s+L*o+M*d-(E*s+A*o+G*d),X=k*s+x*o+G*c-(T*s+R*o+M*c),q=1/(e*Y+a*U+u*z+v*X);return i[0]=q*Y,i[1]=q*U,i[2]=q*z,i[3]=q*X,i[4]=q*(w*a+b*u+k*v-(y*a+E*u+T*v)),i[5]=q*(y*e+L*u+x*v-(w*e+A*u+R*v)),i[6]=q*(E*e+A*a+G*v-(b*e+L*a+M*v)),i[7]=q*(T*e+R*a+M*u-(k*e+x*a+G*u)),i[8]=q*(S*l+W*f+O*m-(I*l+P*f+B*m)),i[9]=q*(I*n+D*f+H*m-(S*n+N*f+C*m)),i[10]=q*(P*n+N*l+_*m-(W*n+D*l+F*m)),i[11]=q*(B*n+C*l+F*f-(O*n+H*l+_*f)),i[12]=q*(P*p+B*g+I*h-(O*g+S*h+W*p)),i[13]=q*(C*g+S*r+N*p-(D*p+H*g+I*r)),i[14]=q*(D*h+F*g+W*r-(_*g+P*r+N*h)),i[15]=q*(_*p+O*r+H*h-(C*h+F*p+B*r)),i}},{key:"perspective",value:function(t,i,e,s,r){r=r||new Float32Array(16);var n=Math.tan(.5*Math.PI-.5*t),a=1/(e-s);return r[0]=n/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(e+s)*a,r[11]=-1,r[12]=0,r[13]=0,r[14]=e*s*a*2,r[15]=0,r}},{key:"translation",value:function(t,i,e,s){return(s=s||new Float32Array(16))[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=t,s[13]=i,s[14]=e,s[15]=1,s}},{key:"translate",value:function(t,i,e,s,r){r=r||new Float32Array(16);var n=t[0],a=t[1],o=t[2],h=t[3],l=t[4],u=t[5],c=t[6],p=t[7],f=t[8],v=t[9],d=t[10],g=t[11],m=t[12],y=t[13],w=t[14],b=t[15];return t!==r&&(r[0]=n,r[1]=a,r[2]=o,r[3]=h,r[4]=l,r[5]=u,r[6]=c,r[7]=p,r[8]=f,r[9]=v,r[10]=d,r[11]=g),r[12]=n*i+l*e+f*s+m,r[13]=a*i+u*e+v*s+y,r[14]=o*i+c*e+d*s+w,r[15]=h*i+p*e+g*s+b,r}},{key:"multiply",value:function(t,i,e){e=e||new Float32Array(16);var s=i[0],r=i[1],n=i[2],a=i[3],o=i[4],h=i[5],l=i[6],u=i[7],c=i[8],p=i[9],f=i[10],v=i[11],d=i[12],g=i[13],m=i[14],y=i[15],w=t[0],b=t[1],E=t[2],T=t[3],k=t[4],A=t[5],L=t[6],x=t[7],R=t[8],M=t[9],G=t[10],S=t[11],I=t[12],P=t[13],W=t[14],O=t[15];return e[0]=s*w+r*k+n*R+a*I,e[1]=s*b+r*A+n*M+a*P,e[2]=s*E+r*L+n*G+a*W,e[3]=s*T+r*x+n*S+a*O,e[4]=o*w+h*k+l*R+u*I,e[5]=o*b+h*A+l*M+u*P,e[6]=o*E+h*L+l*G+u*W,e[7]=o*T+h*x+l*S+u*O,e[8]=c*w+p*k+f*R+v*I,e[9]=c*b+p*A+f*M+v*P,e[10]=c*E+p*L+f*G+v*W,e[11]=c*T+p*x+f*S+v*O,e[12]=d*w+g*k+m*R+y*I,e[13]=d*b+g*A+m*M+y*P,e[14]=d*E+g*L+m*G+y*W,e[15]=d*T+g*x+m*S+y*O,e}},{key:"identity",value:function(t){return(t=t||new Float32Array(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"lookAt",value:function(t,i,e,s){s=s||new Float32Array(16);var r=this.normalize(this.subtract(t,i)),n=this.normalize(this.cross(e,r)),a=this.normalize(this.cross(r,n));return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=0,s[4]=a[0],s[5]=a[1],s[6]=a[2],s[7]=0,s[8]=r[0],s[9]=r[1],s[10]=r[2],s[11]=0,s[12]=t[0],s[13]=t[1],s[14]=t[2],s[15]=1,s}},{key:"subtract",value:function(t,i,e){return(e=e||new Float32Array(3))[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}},{key:"cross",value:function(t,i,e){return(e=e||new Float32Array(3))[0]=t[1]*i[2]-t[2]*i[1],e[1]=t[2]*i[0]-t[0]*i[2],e[2]=t[0]*i[1]-t[1]*i[0],e}},{key:"normalize",value:function(t,i){i=i||new Float32Array(3);var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return 1e-5<e&&(i[0]=t[0]/e,i[1]=t[1]/e,i[2]=t[2]/e),i}}]),t}()),k=function t(){a(this,t);var i=45*Math.PI/180;return{matrix:T.multiply(T.perspective(i,1,1,10),T.inverse(T.lookAt([0,0,5],[0,0,0],[0,1,0]))),winGl:W.R(2*Math.tan(i/2)*5,5)}},A=function(){function n(t){a(this,n);var i=t.psdW,e=t.win.w,s=t.win.h,r=t.winGl;this.winWPsdW=e/i,this.winGlWinW=r/e,this.winGlWinH=r/s,this.demiWinGl=r/2,this.ratio=s/e}return s(n,[{key:"run",value:function(t){for(var i=t.plane,e=i.x*this.winWPsdW,s=i.y*this.winWPsdW-t.scroll,r=i.w*this.winWPsdW,n=i.h*this.winWPsdW,a=e*this.winGlWinW,o=s*this.winGlWinH,h=r*this.winGlWinW,l=n*this.winGlWinH,u=i.points.hori,c=u-1,p=i.points.vert-1,f=h/c,v=l/p,d=this.demiWinGl-a,g=-this.demiWinGl+l+o,m=[],y=0,w=0;w<p;w++)for(var b=v*w-g,E=b+v,T=0;T<u;T++){var k=f*T-d;m[y++]=k,m[y++]=b,m[y++]=0,m[y++]=k,m[y++]=E,m[y++]=0,T===c&&w!==p-1&&(m[y++]=k,m[y++]=E,m[y++]=0,m[y++]=-d,m[y++]=E,m[y++]=0)}for(var A=m.length,L=A/3,x=t.pulse.arrL,R=0;R<A;R++)if(0!==R&&R%3==2)for(var M=0,G=0;G<x;G++){var S=t.pulse.arr[G],I=m[R-2]-(S.mouseX*this.winGlWinW-this.demiWinGl),P=void 0;void 0===S.SaveScr?(P=S.mouseY,S.SaveScr=t.scroll):P=S.mouseY-(t.scroll-S.SaveScr);var W=(m[R-1]+(P*this.winGlWinH-this.demiWinGl))*this.ratio,O=this.cubicPulse(5*S.progress,.3,Math.sqrt(I*I+W*W));M+=Math.min(O/(1/.3),.3),m[R]=Math.min(M,.3)}var B=t.img,D={};D.img=B.width/B.height,D.plane=r/n;var N={};D.plane>D.img?(N.w=1,N.h=1/D.img*D.plane):(N.w=1*D.img/D.plane,N.h=1);for(var C=(1-1/N.h)/2,H=(1-1/N.w)/2,_=[],F=0,Y=0;Y<p;Y++)for(var U=1-Y/p/N.h-C,z=1-(Y+1)/p/N.h-C,X=0;X<u;X++){var q=X/c/N.w+H;if(_[F++]=q,_[F++]=U,_[F++]=q,_[F++]=z,X===c&&Y!==p-1)for(var V=0;V<4;V++)_[F++]=0}return{pos:{type:"TRIANGLE_STRIP",arr:m,l:L},texCoord:{arr:_}}}},{key:"cubicPulse",value:function(t,i,e){return i<(e=Math.abs(e-t))?0:1-(e/=i)*e*(3-2*e)}}]),n}(),L=new(function(){function t(){a(this,t),this.scroll=0}return s(t,[{key:"init",value:function(t){this.gl=t.gl,this.cb=t.cb,this.gl.isOut=!0,this.gl.inside={}}},{key:"resize",value:function(t,i){this.winH=t.h;var e=this.gl;this.cb(e),e.inside.top=(e.y-50)*i,e.inside.bottom=e.inside.top+(e.h+50)*i}},{key:"run",value:function(t){this.scroll=t.scroll;var i=this.scroll+this.winH,e=this.gl;i>=e.inside.top&&this.scroll<=e.inside.bottom?(e.isOut=!1,this.cb(e)):e.isOut||(e.isOut=!0,this.cb(e))}}]),t}()),x=new(function(){function t(){a(this,t),this.p=Penryn,this.scroll=0,this.isEnter=!1,this.opacity=0,W.BM(this,["draw","click","enter"])}return s(t,[{key:"init",value:function(){this.aImgWrap=W.G.id("a-1-img-wrap");this.gl=b.canvasCtx(W.G.id("gl"),{antialias:!0,alpha:!0}),this.program=b.createProgram(this.gl,["precision mediump float;attribute vec4 a_p;uniform mat4 u_m;attribute vec2 a_t;varying vec2 v;uniform float u_ti;uniform float u_ma;varying float vZ;void main(){float z=sin(a_p.x/-0.5+u_ti)*u_ma;gl_Position=u_m*vec4(a_p.x,a_p.y,a_p.z+z,1.0);v=a_t;vZ=a_p.z;}","precision mediump float;varying vec2 v;uniform sampler2D u_i0;uniform sampler2D u_i1;uniform float u_o;varying float vZ;void main(){vec4 t0=texture2D(u_i0,v);vec4 t1=texture2D(u_i1,v);vec4 mt=mix(t0,t1,vZ*2.4);vec4 b=vec4(0.968,0.953,0.941,1.0);gl_FragColor=mix(b,mt,u_o);}"]),this.attrib=b.loc("a",this.gl,this.program,["p","t"]),this.uniform=b.loc("u",this.gl,this.program,["m","ti","ma","i0","i1","o"]),this.texcoordBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.texcoordBuffer),this.gl.vertexAttribPointer(this.aTexcoord,2,this.gl.FLOAT,!1,0,0),this.positionBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.pulse={arr:[],arrL:0,duration:5e3}}},{key:"resize",value:function(){this.dataGl=d,this.dataGlY=this.dataGl.y,this.y=this.dataGlY,L.init({gl:this.dataGl,cb:this.draw}),b.resizeCanvasToDisplaySize(this.gl),this.gl.useProgram(this.program),this.gl.enable(this.gl.BLEND);var t=new k,i=t.winGl;this.vertices=new A({winGl:i,win:this.p.win,psdW:this.p.psdW}),this.gl.uniformMatrix4fv(this.uniform.m,!1,t.matrix),this.texCoordBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.texCoordBuffer),this.gl.vertexAttribPointer(this.attrib.t,2,this.gl.FLOAT,!1,0,0),this.positionBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(this.attrib.p,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(this.attrib.p),L.resize(this.p.win,this.p.winWpsdW)}},{key:"intro",value:function(t){var i=this;new W.M({d:t.d,e:t.e,update:function(t){i.opacity=W.Lerp.init(0,1,t.progress),i.y=W.Lerp.init(i.dataGlY+80,i.dataGlY,t.progress)}}).play()}},{key:"img",value:function(t){this.img=t;var i=this.img.length;this.tex=[];for(var e=0;e<i;e++){var s=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,s),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.img[e]),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.tex[e]=s}}},{key:"on",value:function(){this.l("add"),this.lOver("add")}},{key:"loop",value:function(t,i){this.scroll=i.curr,this.pulseArr(t),this.gl.uniform1f(this.uniform.o,this.opacity),(W.R(i.curr)!==W.R(i.target)||0<this.pulse.arrL)&&(this.gl.uniform1f(this.uniform.ti,t/500),this.gl.uniform1f(this.uniform.ma,0),L.run({scroll:this.scroll}))}},{key:"click",value:function(t){var i=this;this.l("remove"),this.pulse.arr.push({mouseX:t.pageX,mouseY:t.pageY}),this.pulse.arrL=this.pulse.arr.length,setTimeout(function(t){i.l("add")},400)}},{key:"enter",value:function(t){!this.isEnter&&this.p.over500&&(this.isEnter=!0,this.pulse.arr.push({mouseX:t.pageX,mouseY:t.pageY}),this.pulse.arrL=this.pulse.arr.length)}},{key:"pulseArr",value:function(t){for(var i=this.pulse.duration,e=0;e<this.pulse.arrL;e++){var s=this.pulse.arr[e];s.start||(s.start=t),s.progress=Math.min((t-s.start)/i,1),1===s.progress&&(this.pulse.arr.splice(e,1),this.pulse.arrL=this.pulse.arr.length)}}},{key:"draw",value:function(t){t.y=this.y;var i=this.vertices.run({plane:t,scroll:this.scroll,pulse:this.pulse,img:this.img[0]});this.gl.uniform1i(this.uniform.i0,0),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.tex[0]),this.gl.uniform1i(this.uniform.i1,1),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.tex[1]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.texCoordBuffer),this.gl.enableVertexAttribArray(this.attrib.t),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(i.texCoord.arr),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.enableVertexAttribArray(this.attrib.p),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(i.pos.arr),this.gl.STATIC_DRAW),this.gl.drawArrays(this.gl[i.pos.type],0,i.pos.l)}},{key:"l",value:function(t){W.L(this.aImgWrap,t,"click",this.click)}},{key:"lOver",value:function(t){W.L(this.aImgWrap,t,"mouseenter",this.enter)}}]),t}()),R=new(function(){function t(){a(this,t),this.p=Penryn,W.BM(this,["resize","loop","hide"]),this.RO=new W.RO({cb:this.resize,throttle:{delay:200,onlyAtEnd:!0}})}return s(t,[{key:"run",value:function(){this.introIsDone=!1,this.p.scroll=m,this.p.isReduce=!0,this.p.GL=x;var t="media/about/";this.imgArr=[t+"00.jpg",t+"01.jpg"],this.p.scroll.init(w),y.init(),this.p.GL.init(),this.check500();var i=W.G.class("a-0-h1"),e=W.G.class("id-txt"),s=W.G.id("a-0-av"),r="o6",n=100,a=2e3;if(this.a0=new W.TL,this.p.over500){for(var o=W.G.class("nav-anchor"),h=W.G.id("a-1-aside-txt"),l=0;l<4;l++){var u=0===l?0:150;this.a0.from({el:i[l],p:{y:[101,0]},d:a,e:r,delay:u})}this.a0.from({el:e[0],p:{y:[101,0]},d:a,e:r,delay:150}),this.a0.from({el:e[1],p:{y:[101,0]},d:a,e:r,delay:n});for(var c=0;c<4;c++)this.a0.from({el:o[c],p:{y:[101,0]},d:a,e:r,delay:n});this.a0.from({el:s,p:{y:[101,0]},d:a,e:r,delay:n}),this.a0.from({el:h,p:{y:[101,0]},d:a,e:r})}else{var p=W.G.id("id-contact"),f=W.G.id("a-1-img-wrap"),v=W.G.id("a-1-img-cover");this.a0.from({el:e[0],p:{y:[101,0]},d:a,e:r}),this.a0.from({el:e[1],p:{y:[101,0]},d:a,e:r,delay:n}),this.a0.from({el:p,p:{y:[101,0]},d:a,e:r,delay:n});for(var d=0;d<4;d++)this.a0.from({el:i[d],p:{y:[101,0]},d:a,e:r,delay:n});this.a0.from({el:s,p:{y:[101,0]},d:a,e:r,delay:n}),this.a0.from({el:f,p:{y:[50,0,"px"]},d:a,e:r,delay:n}),this.a0.from({el:v,p:{opacity:[1,0]},d:1500,e:"linear"})}g.run(this.imgArr,this.hide)}},{key:"hide",value:function(t){var i=this;this.p.GL.img(t),this.resize(),this.RO.on(),requestAnimationFrame(this.loop),setTimeout(function(t){i.anim()},400)}},{key:"anim",value:function(){var i=this;this.a0.play(),setTimeout(function(t){i.hideCb()},1500)}},{key:"hideCb",value:function(){this.introIsDone=!0,this.p.GL.on(),y.on(),p.on(),this.p.scroll.on(),c.on(),W.WTP.off()}},{key:"loop",value:function(t){this.p.scroll.loop(t),y.loop(t),requestAnimationFrame(this.loop)}},{key:"resize",value:function(){this.p.win={h:W.Win.h,w:W.Win.w},this.p.psdW=v.w,this.p.winWpsdW=this.p.win.w/this.p.psdW,this.check500(),this.txt(),this.p.scroll.resize("loader"),this.p.over500&&this.p.GL.resize()}},{key:"check500",value:function(){this.p.over500=window.matchMedia("(min-width: 501px)").matches}},{key:"txt",value:function(){var t=this.introIsDone?0:"101%",i=W.G.id("a-2-p-wrap"),e='<span><span class="a-2-p" style="transform: translate3d(0,'+t+',0);">',s="</span></span>",r=e+(this.p.over500?["Aristide Benoist is a developer","specialized in motion and interaction based in Spain. As a","freelancer, he works for web agencies, companies,","startups and individuals all over the world."]:["Aristide Benoist is","a developer specialized in","motion and interaction","based in Spain. As a free-","lancer, he works for web","agencies, companies,","startups and individuals all","over the world."]).join(s+e)+s;i.innerHTML=r;for(var n=W.G.class("w-li-name-wrap"),a=n.length,o=E,h=[],l=0;l<a;l++)h[l]=this.p.over500?o[l][0]:o[l][1];for(var u=0;u<a;u++){var c='<span><span class="w-li-name"'+(u<4?' style="transform: translate3d(0,'+t+',0);"':"")+"><span>",p=c+h[u].join("</span></span></span>"+c)+'</span><span class="w-li-name-arrow"><svg><use xlink:href="#arrow"></use></svg></span></span></span>';n[u].innerHTML=p}var f=W.G.id("f-credits-p-0"),v='<span><span class="f-credits-p" style="transform: translate3d(0,'+t+',0);">',d="</span></span>",g=v+(this.p.over500?['This site was designed by <a class="_tb" href="http://www.benmingo.com">Ben</a>','<a class="_tb" href="http://www.benmingo.com">Mingo</a> in Southern California and',"developed by Aristide Benoist in","Spain."]:['This site was designed by <a class="_tb" href="http://www.benmingo.com">Ben</a>','<a class="_tb" href="http://www.benmingo.com">Mingo</a> in Southern California',"and developed by Aristide","Benoist in Spain."]).join(d+v)+d;f.innerHTML=g;var m=W.G.id("f-credits-p-1"),y='<span><span class="f-credits-p" style="transform: translate3d(0,'+t+',0);">',w="</span></span>",b=y+(this.p.over500?["All text is set in Neue Haas Unica,","designed by Team ’77 (André","Gürtler, Christian Mengelt and Erich","Gschwind) and Platform, designed","by Berton Hasebe."]:["All text is set in Neue Haas","Unica, designed by Team ’77","(André Gürtler, Christian","Mengelt and Erich Gschwind)","and Platform, designed by","Berton Hasebe."]).join(w+y)+w;m.innerHTML=b}}]),t}()),M=new(function(){function t(){a(this,t)}return s(t,[{key:"preload",value:function(){R.run()}}]),t}());new function t(){a(this,t),new i,"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js"),W.TopWhenRefresh(),new e({p404:n,main:M})}}();
